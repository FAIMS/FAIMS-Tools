<?xml version="1.0" ?>
<module suppressWarnings="false" adsdf="asdf">
  <noot/>
  <User huh="wut" f="nodata">
    <noot/>
    <User>
      <noot>
        <noot/>
      </noot>
      <Select_User test="testing" t="list" f="user" l="Control">
        <noot asdf="asdf">
        </noot>
      </Select_User>
    </User>
  </User>
  <Control f="nodata">
    <Control>
      <New_Ent t="button" l="Ent"/>
    </Control>
    <search/>
  </Control>
  <Ent>
    <Tab>
      <ID f="id"/>
      <Muh_Table t="table"/>
      <Device_List f="nodata" t="dropdown"/>
      <Refresh_List t="button" lc="B"/>
    </Tab>
  </Ent>
  <B>
    <B>
      <ID f="id" />
    </B>
  </B>
  <logic>
  <![CDATA[
  String capturingDevice = null;

  addOnEvent("Ent/Tab/Device_List",  "click", "onClickDeviceList()");
  addOnEvent("Ent/Tab/Device_List",  "show",  "refreshList()");
  addOnEvent("Ent/Tab/Refresh_List", "click", "refreshList()");

  refreshList() {
    l  = getHardwareDevices();
    pl = listToPairList(l);
    populateDropDown("Ent/Tab/Device_List", pl);
  }

  onClickDeviceList() {
    String s = getFieldValue("Ent/Tab/Device_List");
    showToast(s);
  }

  listToPairList(List l) {
    List pl = new ArrayList();
    for (String s : l) {
      pl.add(new NameValuePair(s, s));
    }
    return pl;
  }
  ]]>
  </logic>
</module>
