<?xml version="1.0" ?>
<module suppressWarnings="false">
  <User f="nodata">
    <User>
      <Select_User t="list" f="user" l="Control"/>
    </User>
  </User>
  <User/>
  <Control f="nodata">
    <Control>
      <New_Ent t="button" l="Ent"/>
    </Control>
    <search/>
    <search/>
  </Control>
  <Control/>
  <Ent>
    <Tab>
      <ID f="id user"/>
      <Muh_Table t="table"/>
      <Device_List f="nodata" t="dropdown"/>
      <Refresh_List t="button" lc="B"/>
      <cols>
        <col>
          <Input/>
          <Dropdown>
            <opts></opts>
          </Dropdown>
          <Picture>
            <opts>
              <opt p="find"/>
            </opts>
          </Picture>
          <list f="user"/>
        </col>
      </cols>
    </Tab>
  </Ent>
  <B>
    <B>
      <ID f="id" />
    </B>
  </B>
  <logic>
  <![CDATA[
  String capturingDevice = null;

  addOnEvent("Ent/Tab/Device_List",  "click", "onClickDeviceList()");
  addOnEvent("Ent/Tab/Device_List",  "show",  "refreshList()");
  addOnEvent("Ent/Tab/Refresh_List", "click", "refreshList()");

  refreshList() {
    l  = getHardwareDevices();
    pl = listToPairList(l);
    populateDropDown("Ent/Tab/Device_List", pl);
  }

  onClickDeviceList() {
    String s = getFieldValue("Ent/Tab/Device_List");
    showToast(s);
  }

  listToPairList(List l) {
    List pl = new ArrayList();
    for (String s : l) {
      pl.add(new NameValuePair(s, s));
    }
    return pl;
  }
  ]]>
  </logic>
</module>
